# Консольное клиент серверное приложение "Многопользовательский чат" #

Building
========
`mvn package`

Running
=======
Сначала запускается сервер

**Server**
```
> cd grpc-spring-boot-server\target
> java -jar grpc-spring-boot-server-0.0.1-SNAPSHOT.jar
```
Для запуска несколько клиентов - запуск через jar

**Client**
```
> cd grpc-spring-boot-client\target
> java -jar grpc-spring-boot-client-0.0.1-SNAPSHOT.jar
```


За основу чата взят сервис gRPC(система удаленного вызова процедур). Он использует механизм мультиплексирования для обеспечения 
отдельного потока для каждого клиента. Это позволяет серверу обрабатывать одновременно несколько запросов от различных 
клиентов, не блокируя основной поток исполнения.

Чат реализован в виде двух модулей: сервер и клиент. Для проверки выполнения требования подключения нескольких 
пользователей, клиент запускается через jar.

Для работы чата используются: однонаправленный режим взаимодействия и потоковая передача сервера.
Первый режим для подключения/отключения клиента к серверу. Ответом за запрос будет сообщение со статусом
подключения/отключения. Так же для отправки широковещательного либо приватного сообщения серверу, от сервера
возвращается пустой ответ.

Потоковая передача используется для отправки сообщений для каждого клиента и отправки списка on-line клиентов.

Для хранения сообщений уже поступивших на сервер, а также от самого сервера, используется in-memory база данных H2.
Пример сообщения, записываемый в базу данных:
![img.png](img.png)

